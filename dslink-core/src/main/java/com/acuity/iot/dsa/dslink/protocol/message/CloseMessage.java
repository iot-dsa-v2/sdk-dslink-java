package com.acuity.iot.dsa.dslink.protocol.message;

import org.iot.dsa.io.DSWriter;

/**
 * A close request or response.
 *
 * @author Aaron Hansen
 */
public class CloseMessage extends BaseMessage implements OutboundMessage {

    /////////////////////////////////////////////////////////////////
    // Fields
    /////////////////////////////////////////////////////////////////

    /////////////////////////////////////////////////////////////////
    // Constructors
    /////////////////////////////////////////////////////////////////

    public CloseMessage() {
        setMethod("close");
        setStream("closed");
    }

    public CloseMessage(Integer rid) {
        this();
        setRequestId(rid);
        setStream("closed");
    }

    /////////////////////////////////////////////////////////////////
    // Methods - In alphabetical order by method name.
    /////////////////////////////////////////////////////////////////

    /**
     * Calls the super implementation then writes the error object and closes the entire response
     * object.
     */
    public void write(DSWriter writer) {
        super.write(writer);
        writer.endMap();
    }

    /////////////////////////////////////////////////////////////////
    // Methods - Protected and in alphabetical order by method name.
    /////////////////////////////////////////////////////////////////

    /////////////////////////////////////////////////////////////////
    // Methods - Package and in alphabetical order by method name.
    /////////////////////////////////////////////////////////////////

    /////////////////////////////////////////////////////////////////
    // Methods - Private and in alphabetical order by method name.
    /////////////////////////////////////////////////////////////////

    /////////////////////////////////////////////////////////////////
    // Inner Classes - in alphabetical order by class name.
    /////////////////////////////////////////////////////////////////

    /////////////////////////////////////////////////////////////////
    // Facets - in alphabetical order by field name.
    /////////////////////////////////////////////////////////////////

    /////////////////////////////////////////////////////////////////
    // Initialization
    /////////////////////////////////////////////////////////////////

}
